// Função que cria o tabuleiro com base nas imagens embaralhadas
function createBoard(images) {
    gameContainer.innerHTML = "";  // Limpa o tabuleiro anterior

    // Cria as cartas no tabuleiro com base nas imagens embaralhadas
    images.forEach(image => {
        const card = document.createElement("div");
        card.classList.add("memory-card");
        card.dataset.image = image;  // Armazena a imagem na carta

        // Definindo a face da carta
        card.innerHTML = `
            <img class='front-face' src='${image}' alt=''>
            <img class='back-face' src='imgPadrao/interrogacao.png' alt=''>
        `;
        
        // Adicionando o evento de clique nas cartas
        card.addEventListener("click", flipCard);
        gameContainer.appendChild(card);  // Adiciona a carta ao contêiner do jogo
    });
}

// Função para obter as imagens embaralhadas
function getShuffledImages() {
    const selectedImages = temasConfig[tema].subtemas;
    const images = [...selectedImages, ...selectedImages];  // Duplicando as imagens para o par
    return images.sort(() => Math.random() - 0.5);  // Embaralha as imagens
}

// Configuração dos temas e suas imagens
const temasConfig = {
    "1": {
        "background": "Tema/aula.jpeg",
        "subtemas": ["imgPadrao/zero.png", "imgPadrao/um.png", "imgPadrao/dois.png", "imgPadrao/tres.png", 
                      "imgPadrao/quatro.png", "imgPadrao/cinco.png", "imgPadrao/seis.png", "imgPadrao/sete.png"]
    },
    "2": {
        "background": "Tema/escritorio.jpeg",
        "subtemas": ["imagens/abacaxi.Jpeg", "imagens/batata.Jpeg", "imagens/cebola.png", "imagens/laranja.Jpeg", 
                      "imagens/uva.Jpeg", "imagens/melancia.Jpeg", "imagens/maca.Jpeg", "imagens/limao.Jpeg"]
    },
    "3": {
        "background": "Tema/loja_roupa.jpeg",
        "subtemas": ["imgTema3Facil/zero.png", "imgTema3Facil/um.png", "imgTema3Facil/dois.png", "imgTema3Facil/tres.png", 
                      "imgTema3Facil/quatro.png", "imgTema3Facil/cinco.png", "imgTema3Facil/seis.png", "imgTema3Facil/sete.png"]
    },
    "4": {
        "background": "Tema/mercado.jpeg",
        "subtemas": ["imgTema4Facil/zero.png", "imgTema4Facil/um.png", "imgTema4Facil/dois.png", "imgTema4Facil/tres.png", 
                      "imgTema4Facil/quatro.png", "imgTema4Facil/cinco.png", "imgTema4Facil/seis.png", "imgTema4Facil/sete.png"]
    }
};

// Aplica o fundo do tema selecionado
document.body.style.backgroundImage = `url(${temasConfig[tema].background})`;

// Obtém as imagens embaralhadas
let images = getShuffledImages();

// Cria o tabuleiro com as imagens embaralhadas
createBoard(images);
